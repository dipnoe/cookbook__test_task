> Для запуска приложения рекомендуется использовать утилиту `make`

Данный проект является тестовым заданием.

# Запуск

1. Склонируйте git-репозиторий
    ```bash
       git clone git@github.com:dipnoe/cookbook.git
   ```

2. Зайдите в корень проекта командой `cd <путь-до-дирректории-проекта>`


3. Создайте `.env` из файла `.env.dist` командой `cp .env.dist .env`.


4. Запуск приложения с помощью `docker-compose` (используется утилита `make`)

    ```bash
    make docker-up
    ```

5. Создание суперпользователя для доступа в административную панель

    ```bash
    make csu
    ```

## Использование

```bash
http://localhost:8000/admin/
```

- Данный запрос дает пользователю доступ к административной панели,
  где пользователь может управлять рецептами и продуктами.
  Для рецептов доступна возможность редактировать
  входящие в их состав продукты и вес в граммах.

```bash
http://localhost:8000/add_product_to_recipe/?recipe_id=int&product_id=int&weight=int
```

- где `int` должен быть заменен на интересующий id рецепта, id продукта и вес продукта в граммах.
  Данный запрос добавляет к указанному рецепту указанный продукт с указанным весом
  или обновляет вес, если продукт уже есть в рецепте.

```bash
http://localhost:8000/cook_recipe/?recipe_id=int
```

- где `int` должен быть заменен на интересующий id рецепта.
  Данный запрос увеличивает количество использования в рецептах для каждого продукта,
  входящего в указанный рецепт.

```bash
http://localhost:8000/show_recipes_without_product/?product_id=int
```

- где `int` должен быть заменен на интересующий id продукта.
  Данный запрос возвращает HTML страницу, где размещена таблица с колонками id и
  название всех рецептов, в которых отсутствует переданный в запросе продукт, 
  либо его вес менее 10 грамм.

### Команды для работы в Docker

Для сборки и запуска проекта в Docker используйте команду:
```bash
make docker-up
```

Для остановки Docker-контейнеров:
```bash
make docker-down
```

Для ручного входа в контейнер django-приложения:
```bash
make docker-exec
```

Для запуска линтера pycodestyle
```bash
make lint
```